1)

Проверка логина и пароля, получнение прав.


Для проверки логина и пароля, получения прав необходимо отправить GET запрос по адресу https://servapi.hwonline.ru/auth.php
Для отправки запроса необходимо включить

login - логин 

password - пароль

или только

token - токен пользователя, который выдаётся в ЛК

Так же можно привязать аккаунт ВКонтакте или Телеграмм, для этого необходимо дополнительно отправить:

tg - id аккаунта в Телеграмм

vk - id аккаунта в ВКонтакте

Повторная привязка возмаожна только при обнулении аккаунта в ЛК.

Если привязка выполнена, то ею можно будет пользоваться во всех следующих методах.

При успешной авторизации сервер вернёт строку:

{"response" : "1" , "usertype" : "int"}

, где int - целое число

если int=0, то пользователь может только просматривать ДЗ.

если int=1,2 или 3, то пользователь имеет полный контроль над ДЗ.

В случае ошибки авторизации сервер вернёт строку:

{"response" : "0" , "error" : "auth"}



2) 

Получение ДЗ

Для получения ДЗ необходимо послать GET запрос по адресу https://servapi.hwonline.ru/get.php
Для отправки запроса необходимо включить

login - логин 

password - пароль

Или же на выбор один из этих параметров

token - токен пользователя, который выдаётся в ЛК

tg - id аккаунта в Телеграмм 

vk - id аккаунта в ВКонтакте

В случае успеха сервер вернёт массив JSON, где 

{"id1":{"timestamp " : "целое число1" , "subject" : "предмет1" , "hometask" : "задание1"},"id2":{"timestamp " : "целое число2" , "subject" : "предмет2" , "hometask" : "Задание2"}}

id - id задания в БД

timestamp - время в формате UNIX, на которое задано ДЗ

subject - предмет

hometask - задание

В случае, если заданий нет, сервер вернёт строку:

{{"response" : "1" , "error" : "emptydb"}}


В случае ошибки авторизации сервер вернёт строку:

{"response" : "0" , "error" : "auth"}


3)
Добавление ДЗ

Для добавления ДЗ необходимо послать GET запрос по адресу https://servapi.hwonline.ru/add.php
Для отправки запроса необходимо включить

login - логин 

password - пароль

Или же на выбор один из этих параметров для авторизации

token - токен пользователя, который выдаётся в ЛК

tg - id аккаунта в Телеграмм 

vk - id аккаунта в ВКонтакте

___________________________________________________

subject - предмет

timestamp - дата, на которую задали в формате 2020-10-28 (гггг-мм-дд)

hometask - задание

В случае успеха сервер вернёт:

{"response" : "1" , "operation" : "add"}

В случае ошибок сервер вернёт одну из этих строк:

{"response" : "0" , "error" : "nulldata"}

{"response" : "0" , "error" : "permission"}

{"response" : "0" , "error" : "auth"}

4)
Удаление ДЗ

Для удаления ДЗ необходимо послать GET запрос по адресу https://servapi.hwonline.ru/delete.php
Для отправки запроса необходимо включить

login - логин 

password - пароль

Или же на выбор один из этих параметров для авторизации

token - токен пользователя, который выдаётся в ЛК

tg - id аккаунта в Телеграмм 

vk - id аккаунта в ВКонтакте

___________________________________________________

id - id задания в базе

В случае успеха сервер вернёт:

{"response" : "1" , "operation" : "delete"}

В случае ошибок сервер вернёт одну из этих строк:

{"response" : "0" , "error" : "nulldata"}

{"response" : "0" , "error" : "permission"}

{"response" : "0" , "error" : "auth"}


5)
Редактирование ДЗ

Для редактирования ДЗ необходимо послать GET запрос по адресу https://servapi.hwonline.ru/edit.php
Для отправки запроса необходимо включить

login - логин 

password - пароль

Или же на выбор один из этих параметров для авторизации

token - токен пользователя, который выдаётся в ЛК

tg - id аккаунта в Телеграмм 

vk - id аккаунта в ВКонтакте

___________________________________________________

id - id задания в базе

subject - предмет

hometask - задание

В случае успеха сервер вернёт:

{"response" : "1" , "operation" : "edit"}

В случае ошибок сервер вернёт одну из этих строк:

{"response" : "0" , "error" : "nulldata"}

{"response" : "0" , "error" : "permission"}

{"response" : "0" , "error" : "auth"}
